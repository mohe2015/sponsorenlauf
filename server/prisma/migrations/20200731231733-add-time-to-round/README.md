# Migration `20200731231733-add-time-to-round`

This migration has been generated by mohe2015 <Moritz.Hedtke@t-online.de> at 7/31/2020, 11:17:33 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."Round" DROP COLUMN "time",
ADD COLUMN "time" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP;

ALTER TABLE "public"."User" ALTER COLUMN "role" DROP DEFAULT;
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200724200327-init..20200731231733-add-time-to-round
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource postgresql {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 // postgresql://postgres:postgres@localhost:5432/myapp
 // docker run --detach --publish 5432:5432 -e POSTGRES_PASSWORD=postgres --name postgres postgres:10.12
@@ -36,14 +36,14 @@
   rounds      Round[]
 }
 model Round {
-  id          String  @default(cuid()) @id
-  student     Runner @relation(fields: [studentId], references: [id])
+  id          String   @default(cuid()) @id
+  student     Runner   @relation(fields: [studentId], references: [id])
   studentId   String
-  createdBy   User    @relation(fields: [createdById], references: [id])
+  createdBy   User     @relation(fields: [createdById], references: [id])
   createdById String
-  time        Int
+  time        DateTime @default(now())
 }
 model UserSession {
   id         String   @id
```


